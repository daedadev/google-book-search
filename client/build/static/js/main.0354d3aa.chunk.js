(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(9),o=n(5),i=n.n(o),r=n(6),s=n(3),a=n(1),l=(n(16),n(0));function u(e){var t=e.book,n=e.toggleModal,c=e.modalShown,o=e.modalButtonFunction,i=e.modalButtonName,r=t.title,s=t.authors,a=t.description,u=t.link,d=t.image,j=t.key;return Object(l.jsx)("div",{className:c?"active":"hidden",children:Object(l.jsxs)("div",{id:"info-holder",children:[Object(l.jsx)("h1",{children:r}),Object(l.jsx)("img",{src:d,alt:"Book cover image for "+r}),Object(l.jsxs)("div",{id:"description-holder",children:[Object(l.jsxs)("h1",{children:["Author(s): ",s]}),Object(l.jsx)("p",{children:a})]}),Object(l.jsx)("a",{type:"link",href:u,target:"_blank",rel:"noreferrer",children:"Link To Book"}),Object(l.jsxs)("div",{id:"button-holder",children:[Object(l.jsx)("button",{onClick:function(){return o(j,r,s,a,u,d)},children:i}),Object(l.jsx)("button",{id:"close-button",onClick:function(){return n(j,r,s,a,u,d)},children:"Close"})]})]})})}n(18);function d(e){var t,n,c=e.book,o=e.buttonFunction,i=e.buttonName,r=Object(a.useState)(!1),d=Object(s.a)(r,2),j=d[0],h=d[1],b=c.title,m=c.authors,p=c.description,O=c.id;function f(){h(!j)}m=c.authors?c.authors:"N/A",c.imageLinks?(c.imageLinks.thumbnail||c.imageLinks.smallThumbnail)&&(n=c.imageLinks.thumbnail):n=c.image?c.image:"/images/NoCoverImageFound.png",t=c.infoLink?c.infoLink:c.link;var x={key:O,title:b,authors:m,description:p,link:t,image:n};return Object(l.jsxs)("li",{className:"result-item-holder",id:O,children:[Object(l.jsxs)("section",{className:"result-top",children:[Object(l.jsxs)("div",{className:"title-holder",children:[Object(l.jsx)("h1",{children:b}),Object(l.jsxs)("h3",{children:["Author(s): ",m]})]}),Object(l.jsxs)("div",{className:"result-button-holder",children:[Object(l.jsx)("button",{onClick:f,children:"View"}),Object(l.jsx)("button",{onClick:function(){return o(O,b,m,p,t,n)},children:i})]})]}),Object(l.jsxs)("section",{className:"result-bottom",children:[Object(l.jsxs)("div",{className:"result-image-holder",children:[Object(l.jsx)("a",{type:"link",href:t,target:"_blank",rel:"noreferrer",children:"Link To Book"}),Object(l.jsx)("img",{src:n,alt:"Book cover image for "+b})]}),Object(l.jsx)("div",{className:"description-holder",children:Object(l.jsx)("p",{children:p})})]}),Object(l.jsx)(u,{book:x,toggleModal:f,modalShown:j,modalButtonFunction:o,modalButtonName:i})]})}var j=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(),u=Object(s.a)(o,2),j=u[0],h=u[1];function b(){return(b=Object(r.a)(i.a.mark((function e(t){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(j));case 3:return n=e.sent,e.next=6,n.json();case 6:if(o=e.sent,j){e.next=9;break}return e.abrupt("return");case 9:c(o.items);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n,c,o,i){return p.apply(this,arguments)}function p(){return(p=Object(r.a)(i.a.mark((function e(t,n,c,o,r,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("id: ".concat(t,", title: ").concat(n,", authors: ").concat(c,", description: ").concat(o,", link: ").concat(r,", image: ").concat(s));try{fetch("/api/book",{method:"POST",body:JSON.stringify({id:t,title:n,authors:c,description:o,link:r,image:s}),headers:{"Content-Type":"application/json"}}),alert(n+" has successfully been added to your library.")}catch(i){console.log(i)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{id:"large-container",children:[Object(l.jsx)("form",{id:"search-form",onSubmit:function(e){return b.apply(this,arguments)},children:Object(l.jsxs)("div",{id:"search-holder",children:[Object(l.jsx)("input",{id:"search-input",value:j,onInput:function(e){return h(e.target.value)}}),Object(l.jsx)("div",{id:"search-button-holder",children:Object(l.jsx)("button",{id:"search-button",type:"submit",children:"Search"})})]})}),Object(l.jsx)("ul",{id:"result-container",children:n.map((function(e){return Object(l.jsx)(d,{book:e.volumeInfo,buttonFunction:m,buttonName:"Save"},e.id)}))})]})},h=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1];function o(e,t,n,c,o,i){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(i.a.mark((function e(t,n,c,o,r,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);try{fetch("/api/book/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}),alert(n+" has successfully been deleted from your library."),window.location.reload()}catch(c){console.log(c)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){fetch("/api/book/",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e)}))}),[]),Object(l.jsxs)("div",{id:"large-container",children:[Object(l.jsx)("h1",{children:"Library"}),Object(l.jsx)("ul",{id:"result-container",children:n.map((function(e){return Object(l.jsx)(d,{book:e,buttonFunction:o,buttonName:"Delete"})}))})]})};n(19);function b(){return Object(l.jsxs)("header",{children:[Object(l.jsxs)("nav",{children:[Object(l.jsx)("h1",{className:"nav-item",children:"Google Books"}),Object(l.jsx)("a",{className:"nav-item",href:"/",children:"Search"}),Object(l.jsx)("a",{className:"nav-item",href:"/saved",children:"Saved"})]}),Object(l.jsx)("div",{id:"image-holder",children:Object(l.jsx)("img",{alt:"Google Books Logo",src:"/GoogleBooksLogo.png"})})]})}var m=n(10),p=n(2);var O=function(){return Object(l.jsxs)(m.a,{children:[Object(l.jsx)(b,{}),Object(l.jsxs)(p.c,{children:[Object(l.jsx)(p.a,{path:"/",element:Object(l.jsx)(j,{})}),Object(l.jsx)(p.a,{path:"/saved",element:Object(l.jsx)(h,{})})]})]})};n(20);Object(c.render)(Object(l.jsx)(O,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.0354d3aa.chunk.js.map